<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <link id="faviconLink" rel="icon" type="image/x-icon" href="../favicon-light.ico">
    <title>Teacher Dashboard - Attendance Registration Application</title>
    <link  rel="stylesheet" href="style.css">
    <link  rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css">

    <script src="../theme-manager.js" defer></script>
    <script src="../common.js" defer></script>
    <script type="module" src="./main.js"></script>
</head>
<body class="light-mode">
    <div class="controls-left" role="region" aria-label="Left controls">
        <div class="teacher-info-card">
            <button id="logoutBtn" class="teacher-logout-btn" aria-label="Logout" title="Logout">
                <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg">
                    <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" fill="#1e293b"/>
                </svg>
            </button>
            <span class="teacher-name-label" id="teacherNameDisplay">Dr. János Kovács</span>
        </div>
    </div>

    <div class="controls-container" role="region" aria-label="Controls">
        <div class="control-card">
            <span class="mode-label">Light Mode</span>
            <label class="switch" aria-hidden="true">
                <input type="checkbox" id="modeToggle">
                <span class="slider"></span>
            </label>
        </div>

        <div class="control-item">
            <button id="fullscreenBtn" class="fullscreen-btn" aria-label="Toggle fullscreen" title="Fullscreen">
                <svg id="fullscreenIcon" viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z" fill="#1e293b"/>
                </svg>
            </button>
        </div>
    </div>

    <div class="main-card">
        <div class="title-row">
            <h1 class="main-title">Class Attendance</h1>
            <div class="timer-badge" id="timerBadge">
                <div class="timer-label">Time Remaining</div>
                <div class="timer-value" id="timerValue">20:00</div>
            </div>
        </div>

        <div class="class-selector-wrapper" id="classSelectorWrapper">
            <div class="class-selector-label" id="classSelectorLabel">Select Your Class</div>

            <div class="class-selector-container">
                <div class="select-wrapper">
                    <select class="class-selector" id="classSelector">
                        <option value="">Choose a class...</option>
                    </select>
                    <svg class="select-arrow-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M7 10l5 5 5-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
        </div>

        <div class="content-wrapper" id="contentWrapper">
            <div class="attendance-section">
                <div class="sort-buttons">
                    <div class="sort-buttons-left">
                        <button class="sort-btn active" data-sort="name" data-order="asc">
                            Name
                            <span class="sort-arrow">▲</span>
                        </button>
                        <button class="sort-btn" data-sort="code" data-order="asc">
                            Neptun Code
                            <span class="sort-arrow">▲</span>
                        </button>
                        <button class="sort-btn" data-sort="time" data-order="asc">
                            Time
                            <span class="sort-arrow">▲</span>
                        </button>
                    </div>
                    <button class="clear-all-btn" id="clearAllBtn">
                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z" fill="currentColor"/>
                        </svg>
                        Clear All
                    </button>
                </div>

                <div class="attendance-list" id="attendanceList">
                    <!-- Student cards will be populated here -->
                </div>
            </div>

            <div class="info-section">
                <div class="info-card">
                    <div class="info-item">
                        <div class="info-label">Start Day & Time</div>
                        <div class="info-value" id="classDateTime">2025-10-26 14:00</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Location</div>
                        <div class="info-value" id="classLocation">IK-105</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Registered Students</div>
                        <div class="counter-value" id="studentCounter">0</div>
                    </div>
                </div>

                <button class="export-btn" id="exportBtn">
                    <span>Export Attendance</span>
                </button>
            </div>
        </div>

        <p class="site-credit" role="note">v1.0 • 2025 • Bug Busters</p>
    </div>

    <!-- Export Modal -->
    <div class="modal-overlay" id="exportModal">
        <div class="modal-card">
            <div class="modal-icon">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" fill="currentColor"/>
                </svg>
            </div>
            <h2 class="modal-title">Export Attendance List</h2>
            <p class="modal-message">Enter the email address where you want to receive the attendance report.</p>
            <input type="email" class="email-input" id="exportEmail" value="example@email.com" placeholder="Enter email address">
            <div class="modal-actions">
                <button class="modal-btn cancel" id="exportCancel">Cancel</button>
                <button class="modal-btn confirm" id="exportConfirm">Send Report</button>
            </div>
        </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div class="modal-overlay" id="logoutModal">
        <div class="modal-card">
            <div class="modal-icon">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
                </svg>
            </div>
            <h2 class="modal-title">Logout</h2>
            <p class="modal-message">Are you sure you want to logout?</p>
            <div class="modal-actions">
                <button class="modal-btn cancel" id="logoutCancel">Cancel</button>
                <button class="modal-btn confirm" id="logoutConfirm">Logout</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-overlay" id="deleteModal">
        <div class="modal-card">
            <div class="modal-icon warning">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
                </svg>
            </div>
            <h2 class="modal-title">Delete Student</h2>
            <p class="modal-message" id="deleteMessage">Are you sure you want to delete this student from the attendance list?</p>
            <div class="modal-actions">
                <button class="modal-btn cancel" id="deleteCancel">Cancel</button>
                <button class="modal-btn confirm danger" id="deleteConfirm">Delete</button>
            </div>
        </div>
    </div>

    <!-- Clear All Confirmation Modal -->
    <div class="modal-overlay" id="clearAllModal">
        <div class="modal-card">
            <div class="modal-icon warning">
                <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
                </svg>
            </div>
            <h2 class="modal-title">Clear All Students</h2>
            <p class="modal-message">Are you sure you want to clear all students from the attendance list? This action cannot be undone.</p>
            <div class="modal-actions">
                <button class="modal-btn cancel" id="clearAllCancel">Cancel</button>
                <button class="modal-btn confirm danger" id="clearAllConfirm">Clear All</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>